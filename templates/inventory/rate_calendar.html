{% extends "base.html" %}
{% load static %}
{% load dict_get %}


{% block content %}
<div class="container my-4">
  <h3 class="text-center mb-4">{{ month_name }} {{ year }}</h3>

  <!-- Weekday Header -->
  <div class="row font-weight-bold text-center">
    {% for weekday in weekdays %}
      <div class="col border py-2 bg-light">{{ weekday }}</div>
    {% endfor %}
  </div>

  <!-- Calendar Grid -->
  {% for week in weeks %}
    <div class="row text-center">
      {% for day in week %}
        <div class="col border py-2">
          <div class="fw-bold">{{ day.day }}</div>
          <div class="small text-start">
            {% for rate in rate_map|get_item:day %}
              <div>{{ rate.product.name }}: Rs.{{ rate.purchase_rate }}</div>
            {% empty %}
              <div class="text-muted"><em>No rates</em></div>
            {% endfor %}
          </div>
        </div>
      {% endfor %}
    </div>
  {% endfor %}
</div>
{% endblock %}
