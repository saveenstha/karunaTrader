{% extends "base.html" %}
{% load static %}
{% load dict_get %}


{% block content %}
  <a href="{% url 'inventory:dailyrate-add' %}" class="btn btn-success mb-3">Add Daily Rate</a>
<div class="container my-4">

    <div class="d-flex justify-content-between align-items-center mb-3">
      <a class="btn btn-outline-primary" href="?year={{ prev_year }}&month={{ prev_month }}">&laquo; Prev</a>
      <h3 class="text-center mb-0">{{ month_name }} {{ year }}</h3>
      <a class="btn btn-outline-primary" href="?year={{ next_year }}&month={{ next_month }}">Next &raquo;</a>
    </div>

  <!-- Weekday Header -->
  <div class="row font-weight-bold text-center">
    {% for weekday in weekdays %}
      <div class="col border py-2 bg-light">{{ weekday }}</div>
    {% endfor %}
  </div>

  <!-- Calendar Grid -->
  {% for week in weeks %}
    <div class="row text-center">
      {% for day in week %}
        <div class="col border py-2">
          <div class="fw-bold">{{ day.day }}</div>
          <div class="small text-start">
            {% for rate in rate_map|get_item:day %}
              <div>{{ rate.product.name }}: Rs.{{ rate.purchase_rate }}</div>
            {% empty %}
              <div class="text-muted"><em>No rates</em></div>
            {% endfor %}
          </div>
        </div>



      {% endfor %}
    </div>
  {% endfor %}
</div>
{% endblock %}
